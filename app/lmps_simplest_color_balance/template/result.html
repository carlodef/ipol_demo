<%include file="header.html" />

<p>
  The algorithm result is displayed hereafter, with the
  RGB color balance and IRGB intensity balance variants.
  It ran in ${"%0.2f" % app.cfg['info']['run_time']}s.<br />
  You can run again this algorithm with new data.
</p>

<div class="action">
  Restart with new input data or different parameter:
  <form style="display:inline;"
	action="${app.base_url}" method="get">
    <input type="submit" value="new input" />
  </form>
  <form style="display:inline;"
	action="${app.base_url + 'params'}" method="get">
    <input type="hidden" name="key" value="${app.key}">
    <input type="hidden" name="s1" value="${s1}">
    <input type="hidden" name="s2" value="${s2}">
    <input type="hidden" name="newrun" value="1">
    <input type="submit" value="different parameters" />
  </form>
</div>

<hr />

<h2>Results (s1=${s1}, s2=${s2})</h2>

Histogram scale is set to the histogram size of the input image.
Dark colors indicate overflows and truncated bins.

<div class="gallery" style="height:${sizeY}px;">
  <ul class="index">
    %for (label, img) in [('input','input_0'), \
                          ('RGB','output_rgb'), \
                          ('IRGB', 'output_irgb')]:
    <li>
      <a href="#">
	${label}
	<span>
	  <table><tr><td style="vertical-align:top;">
	  <img src="${app.work_url + img + '.png'}"
	       style="width=${sizeX}px; height=${sizeY}px" />
	  </td><td style="vertical-align:top;">
	  <img src="${app.work_url + img + '_R.png'}"
	       style="background:white; padding:10px; width=256px; height=128px" /><br />
	  <img src="${app.work_url + img + '_G.png'}"
	       style="background:white; padding:10px; width=256px; height=128px" /><br />
	  <img src="${app.work_url + img + '_B.png'}"
	       style="background:white; padding:10px; width=256px; height=128px" /><br />
	  </td></tr></table>
	</span> 
      </a>
    </li>
%endfor
  </ul>
</div>

<hr />

<%include file="archive_info.html" />

<%include file="footer.html" />
