<%include file="header.html" />

<p>
The algorithm result is displayed hereafter.
Computation took ${"%.2f" % app.cfg['info']['run_time']}s.
You can run again this algorithm with new data or ratio.
</p>

<div>
  <form style="display:inline" action="${app.base_url}" method="get">
    <input style="display:inline" type="submit" value="new input" />
  </form>
  <form style="display:inline" action="${app.base_url + 'crop'}"
	method="get"> 
    <input type="hidden" name="key" value="${app.key}" />
    <input type="hidden" name="newrun" value="1" />
    <input type="hidden" name="ratio" value="${app.cfg['param']['ratio']}" />
    <input type="hidden" name="npyr" value="${app.cfg['param']['npyr']}" />
    <input style="display:inline" type="submit" value="new sub-image" />
  </form>
  <form style="display:inline" action="${app.base_url + 'crop'}" method="get">
    <input type="hidden" name="key" value="${app.key}" />
    <input type="hidden" name="newrun" value="1" />
    <input type="hidden" name="ratio" value="${app.cfg['param']['ratio']}" />
    <input type="hidden" name="npyr" value="${app.cfg['param']['npyr']}" />
    %if app.cfg['param'].has_key('x0'):
    <input type="hidden" name="x0" value="${app.cfg['param']['x0']}" />
    <input type="hidden" name="y0" value="${app.cfg['param']['y0']}" />
    <input type="hidden" name="x" value="${app.cfg['param']['x1']}" />
    <input type="hidden" name="y" value="${app.cfg['param']['y1']}" />
    %endif
    <input style="display:inline" type="submit" value="different ratio" />
  </form>
</div>

<hr style="clear: both; visibility: hidden;" />

<div style="float: left; margin-right:1em">
  Input Image<br />
  <img src="${app.work_url + 'input_cropped.png'}" alt="" />
</div>
<div style="float: left; margin-right:1em">
  Output Image<br />
  <img src="${app.work_url + 'output.png'}" alt="" />
</div>

<hr style="clear: both" />

<%include file="archive_info.html" />

<%include file="footer.html" />
