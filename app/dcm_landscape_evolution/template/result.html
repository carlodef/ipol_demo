<%include file="header.html" />

<p>
  The results of the algorithm are displayed hereafter.
  The CPU time required was ${"%0.2f" % app.cfg['info']['run_time']}s.
</p>

<form action="${app.base_url}" method="get">
  <div class="action">
    Run again the numerical schemes with new data.
    <input type="submit" value="new input" />
  </div>
</form>

<form action="${app.base_url + 'params'}" method="get">
  <div class="action">
    Run again the numerical schemes with new parameters.
    <input type="hidden" name="key" value="${app.key}">
    <input type="hidden" name="newrun" value="1">
    <input type="submit" value="new parameters" />
  </div>
</form>

<hr />

<h2>Result</h2>
<p>
GLOBAL PARAMETERS <br>
time step=${"%2.2f" % time_step} <br>
<br>
WATER EVOLUTION PARAMETER <br>
Rain=${"%2.4f" % rain} x 10^(-7)<br>
<br>
EROSION PARAMETERS <br>
erosion exponent m=${"%2.2f" % expm} <br>
erosion coefficient e=${"%2.2f" % erosione} <br>
creep=${"%2.2f" %erosioncreep} <br>
<br>
EROSION PARAMETER <br>
sedimentation parameter=${"%2.2f" % erosions}<br>
<br>
iterations water only=${"%2.0f" % iterationw} x 10^3<br>
iteration all equations =${"%2.0f" %iteration} x 10^3<br>
Ocean level=${"%1.7f" % waterlandcst}

<br>





</p>
  <ul class="index">
    <li>
      <a href="#">
	Original Landscape <br>
	<span>
	  <img src="${app.work_url + 'result_orig.png'}" />
	</span>
      </a>
    </li>
	<br>
    <li>
      <a href="#">
	  After water evolution<br></a>
	  Is variation lower than threshold?
	  ${open(app.work_dir + 'is_variation_water_only_small_enough.txt', 'r').readline()}<br>
          Number of iterations performed:	  ${float(open(app.work_dir +'nb_iter_water_only.txt').readline().split()[0])}<br>
	<span>
	  <img src="${app.work_url + 'result_orig.png'}" />
	  <img src="${app.work_url + 'result_w_only.png'}" />
	<br>
	Images: Orignal landscape and level of water
	</span>
      </a>
      <br>
      Mean level of water:
      ${float(open(app.work_dir +'mean_level_water_only.txt').readline().split()[0])}<br>
      Maximum level of water:
      ${float(open(app.work_dir + 'max_level_water_only.txt').readline().split()[0])}<br>
      Minimum level of water:
      ${float(open(app.work_dir + 'min_level_water_only.txt').readline().split()[0])}<br>

      Mean level of water above ocean:
      ${float(open(app.work_dir +'mean_level_water_above_ocean_water_only.txt').readline().split()[0])}<br>
      Maximum level of water above ocean:
      ${float(open(app.work_dir + 'max_level_water_above_ocean_water_only.txt').readline().split()[0])}<br>
      Minimum level of water above ocean:
      ${float(open(app.work_dir + 'min_level_water_above_ocean_water_only.txt').readline().split()[0])}<br>


    </li>
<br>
    <li>
      <a href="#">
	  After water, erosion and sediment evolution <br> </a>

      Is amount of removed landscape meets percentage
	  ${open(app.work_dir + 'is_landscape_removed_ok.txt', 'r').readline()}<br>
          Number of iterations performed:	  ${float(open(app.work_dir +'nb_iter_full_equations.txt').readline().split()[0])}<br>

	<span>
	  <img src="${app.work_url + 'result_l.png'}" />
	  <img src="${app.work_url + 'result_w.png'}" />
	  <img src="${app.work_url + 'result_diff_landscape.png'}" />
	  <img src="${app.work_url + 'result_c.png'}" />
	</span>
      </a>
      <br>
      Images: Landscape, water, difference landscape ([-2sigma,
      2sigma]) and concentration ([0, 2sigma])

      <br>
      <br>
      Mean level of water:
      ${float(open(app.work_dir +'mean_level_water_full.txt').readline().split()[0])}<br>
      Maximum level of water:
      ${float(open(app.work_dir + 'max_level_water_full.txt').readline().split()[0])}<br>
      Minimum level of water:
      ${float(open(app.work_dir + 'min_level_water_full.txt').readline().split()[0])}<br>

      Mean level of water above ocean level:
      ${float(open(app.work_dir +'mean_level_water_above_ocean_full.txt').readline().split()[0])}<br>
      Maximum level of water above ocean level:
      ${float(open(app.work_dir + 'max_level_water_above_ocean_full.txt').readline().split()[0])}<br>
      Minimum level of waterabove ocean level:
      ${float(open(app.work_dir + 'min_level_water_above_ocean_full.txt').readline().split()[0])}<br>


      <br>
      Mean level of landscape:
      ${float(open(app.work_dir +'mean_level_landscape_full.txt').readline().split()[0])}<br>
      Maximum level of landscape:
      ${float(open(app.work_dir + 'max_level_landscape_full.txt').readline().split()[0])}<br>
      Minimum level of landscape:
      ${float(open(app.work_dir + 'min_level_landscape_full.txt').readline().split()[0])}<br>
      Mean level of landscape above ocean:
      ${float(open(app.work_dir +'mean_level_landscape_above_ocean_full.txt').readline().split()[0])}<br>
      Maximum level of landscape above ocean:
      ${float(open(app.work_dir + 'max_level_landscape_above_ocean_full.txt').readline().split()[0])}<br>
      Minimum level of landscape above ocean:
      ${float(open(app.work_dir + 'min_level_landscape_above_ocean_full.txt').readline().split()[0])}<br>


      <br>
      Mean level of difference landscape (old - new):
      ${float(open(app.work_dir +'mean_level_difference_landscape_full.txt').readline().split()[0])}<br>
      Standard deviation  level of difference landscape (old - new):
      ${float(open(app.work_dir +'sigma_level_difference_landscape_full.txt').readline().split()[0])}<br>
      Maximum level of difference landscape (old - new):
      ${float(open(app.work_dir + 'max_level_difference_landscape_full.txt').readline().split()[0])}<br>
      Minimum level of difference landscape (old - new):
      ${float(open(app.work_dir + 'min_level_difference_landscape_full.txt').readline().split()[0])}<br>


      <br>
      Mean level of concentration):
      ${float(open(app.work_dir +'mean_level_concentration_full.txt').readline().split()[0])}<br>
      Sigma level of concentration):
      ${float(open(app.work_dir +'sigma_level_concentration_full.txt').readline().split()[0])}<br>
      Maximum level of concentration:
      ${float(open(app.work_dir + 'max_level_concentration_full.txt').readline().split()[0])}<br>
      Minimum level of concentration:
      ${float(open(app.work_dir + 'min_level_concentration_full.txt').readline().split()[0])}<br>



      <br>
      <br>
      Evolution of mass removed:
      <pre class="stdio">${open(app.work_dir + 'percentage_landscape_removed_iteration.txt', 'r').read()}</pre>
    </li>
  </ul>
</div>

<hr />

<%include file="archive_info.html" />

<%include file="footer.html" />