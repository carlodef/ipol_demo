<%include file="header.html" />

<div class="action" style="padding-bottom:3ex">    
    <form style="float:left" action="${app.base_url}" method="get">
        <p style="padding:0px;margin:0px">Run again?&nbsp;<input type="submit" value="new input" /></p>
    </form>    
    <form style="float:left;padding-left:4px" action="${app.base_url + 'params'}" method="get">        
        <p style="margin:0px"><input type="hidden" name="key" value="${app.key}" />
        <input type="hidden" name="newrun" value="1" />
        <input type="hidden" name="msg" value="different parameter" />
        <input type="submit" value="different parameter" /></p>
    </form>
    %if all(app.cfg['param'][p] != None for p in ['x0', 'y0', 'x', 'y']):
    <form style="float:left;padding-left:4px" action="${app.base_url + 'params'}" method="get">        
        <p style="margin:0px"><input type="hidden" name="key" value="${app.key}" />
        <input type="hidden" name="newrun" value="1" />
        <input type="hidden" name="msg" value="different subimage" />
        <input type="submit" value="different subimage" /></p>
    </form>
    %endif
</div>

<p>The results below show the evolution of the segmentation curve as an animation, where each frame corresponds to 5 iterations of gradient descent, and the segmentation obtained after 100 iterations as a binary image.</p>

<p>Notice that if the image dimensions exceeded 450&times;450, then the image has been cropped.  For visualization, images are displayed with ${app.cfg['param']['zoomfactor']}&times; pixel duplication.  Results at native resolution can be downloaded here:
<a href="${app.work_url + 'evolution.gif'}">evolution</a>,&nbsp;&nbsp;
<a href="${app.work_url + 'segmentation.png'}">segmentation</a>,&nbsp;&nbsp;
<a href="${app.work_url + 'input_0_sel.png'}">input</a>.</p>

<p><i>&mu;</i>&nbsp;=&nbsp;${app.cfg['param']['mu']}</p>

<div class="gallery" style="height:${app.cfg['param']['displayheight']}px">
    <ul class="index">
    <li>
        <a href="#">
        Evolution
        <span>
            <img src="${app.work_url + 'evolution.gif'}" alt=""
width="${app.cfg['param']['zoomwidth']}" height="${app.cfg['param']['zoomheight']}" />
        </span>
        </a>
    </li>
    <li>
        <a href="#">
        Segmentation
        <span>
            <img src="${app.work_url + 'segmentation_zoom.png'}" alt="" />
        </span>
        </a>
    </li>
    <li>
        <a href="#">
        Input
        <span>
            <img src="${app.work_url + 'input_0_sel_zoom.png'}" alt="" />
        </span>
        </a>
    </li>    
    </ul>
</div>

<hr />

<%include file="archive_info.html" />

<%include file="footer.html" />
